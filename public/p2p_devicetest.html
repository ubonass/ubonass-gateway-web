<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>WebRTC Devices Test</title>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/webrtc-adapter/6.4.0/adapter.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/jquery.blockUI/2.70/jquery.blockUI.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.2/js/bootstrap.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/4.1.0/bootbox.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/spin.js/2.3.2/spin.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.3/toastr.min.js"></script>

    <script type="text/javascript" src="js/wbrtc-utils.js"></script>
    <script type="text/javascript" src="js/p2p_devicetest.js"></script>

    <script>
        $(function () {
            $(".navbar-static-top").load("navbar.html", function () {
                $(".navbar-static-top li.dropdown").addClass("active");
                $(".navbar-static-top a[href='p2p_devicetest.html']").parent().addClass("active");
            });
            $(".footer").load("footer.html");
        });
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css"
          type="text/css"/>
    <link rel="stylesheet" href="css/demo.css" type="text/css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css"
          type="text/css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.3/toastr.css"/>
</head>
<body>

<!--
<a href="https://github.com/meetecho/janus-gateway"><img
        style="position: absolute; top: 0; left: 0; border: 0; z-index: 1001;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png" alt="Fork me on GitHub"></a>
-->

<nav class="navbar navbar-default navbar-static-top">
</nav>

<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="page-header">
                <h1>P2p Device Selection
                    <button class="btn btn-default" autocomplete="off" id="start">Start</button>
                </h1>
            </div>
            <div class="container" id="details">
                <div class="row">
                    <div class="col-md-12">
                        <h3>Demo details</h3>
                        <p>This is a variant of the Echo Test demo: everything is exactly
                            the same in term of available controls, features, and the like, with
                            the substantial difference that you can select which of the available
                            devices (microphones, webcams) you want to use for the media setup.</p>
                        <p>Press the <code>Start</code> button above to launch the demo.</p>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row hide" id="devices">
                    <form class="form-inline">
                        <div class="form-group" style="margin-right: 20px;">
                            <label for="audio-device">Audio device (input):</label>
                            <select id="audio-device" class="form-control"></select>
                        </div>
                        <div class="form-group" style="margin-right: 20px;">
                            <label for="video-device">Video device (input):</label>
                            <select id="video-device" class="form-control"></select>
                        </div>
                        <div class="form-group">
                            <div id="change-devices" class="form-control btn btn-primary">Change devices</div>
                        </div>
                    </form>
                    <hr>
                </div>
                <div class="row hide" id="videos">
                    <!--本地视频窗口-->
                    <div class="col-md-6">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Local Stream
                                    <div class="btn-group btn-group-xs pull-right hide">
                                        <button class="btn btn-danger" autocomplete="off" id="toggleaudio">Disable
                                            audio
                                        </button>
                                        <button class="btn btn-danger" autocomplete="off" id="togglevideo">Disable
                                            video
                                        </button>
                                        <div class="btn-group btn-group-xs">
                                            <button id="bitrateset" autocomplete="off"
                                                    class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                                                Bandwidth<span class="caret"></span>
                                            </button>
                                            <ul id="bitrate" class="dropdown-menu" role="menu">
                                                <li><a href="#" id="0">No limit</a></li>
                                                <li><a href="#" id="128">Cap to 128kbit</a></li>
                                                <li><a href="#" id="256">Cap to 256kbit</a></li>
                                                <li><a href="#" id="512">Cap to 512kbit</a></li>
                                                <li><a href="#" id="1024">Cap to 1mbit</a></li>
                                                <li><a href="#" id="1500">Cap to 1.5mbit</a></li>
                                                <li><a href="#" id="2000">Cap to 2mbit</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </h3>
                            </div>

                            <div class="panel-body" id="videoleft">

                                <video class="rounded centered" id="myvideo" width=320 height=240 autoplay playsinline muted="muted"/>

                            </div>

                        </div>
                        <div class="input-group margin-bottom-sm">
                            <span class="input-group-addon"><i class="fa fa-cloud-upload fa-fw"></i></span>
                            <input class="form-control" type="text" placeholder="Write a DataChannel message"
                                   autocomplete="off" id="datasend" onkeypress="return checkEnter(event);"
                                   disabled></input>
                        </div>
                    </div>
                    <!--远程视频窗口-->
                    <!--<div class="col-md-6">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Remote Stream
                                    <span class="label label-primary hide" id="curres"></span>
                                    <span class="label label-info hide" id="curbitrate"></span>
                                    <div class="btn-group btn-group-xs pull-right hide" id="output-devices">
                                        <div class="btn-group btn-group-xs">
                                            <button id="outputdeviceset" autocomplete="off"
                                                    class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                                                Output device<span class="caret"></span>
                                            </button>
                                            <ul id="audiooutput" class="dropdown-menu" role="menu">
                                            </ul>
                                        </div>
                                    </div>
                                </h3>
                            </div>
                            <div class="panel-body" id="videoright"></div>
                        </div>
                        <div class="input-group margin-bottom-sm">
                            <span class="input-group-addon"><i class="fa fa-cloud-download fa-fw"></i></span>
                            <input class="form-control" type="text" id="datarecv" disabled></input>
                        </div>
                    </div>-->
                </div>
            </div>
        </div>
    </div>

    <hr>
    <div class="footer">
    </div>
</div>

</body>
</html>
